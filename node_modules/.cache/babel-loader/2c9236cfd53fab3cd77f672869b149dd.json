{"ast":null,"code":"import _slicedToArray from \"/Users/ryanmeinzer/Flatiron/Mod6/translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/Users/ryanmeinzer/Flatiron/Mod6/translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ryanmeinzer/Flatiron/Mod6/translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/ryanmeinzer/Flatiron/Mod6/translator/src/components/translate.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst doTranslation = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(input, languageCode, cancelToken) {\n    var _yield$axios$post, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return axios.post(\"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\", {\n            q: input,\n            target: languageCode\n          }, {\n            cancelToken: cancelToken.token\n          });\n\n        case 3:\n          _yield$axios$post = _context.sent;\n          data = _yield$axios$post.data;\n          return _context.abrupt(\"return\", data.data.translations[0].translatedText);\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", \"\");\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function doTranslation(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default (({\n  language,\n  text\n}) => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        translated = _useState2[0],\n        setTranslated = _useState2[1];\n\n  useEffect(() => {\n    if (!text) {\n      return;\n    }\n\n    const cancelToken = axios.CancelToken.source();\n    doTranslation(text, language, cancelToken).then(setTranslated);\n    return () => {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Output\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, translated));\n});","map":{"version":3,"sources":["/Users/ryanmeinzer/Flatiron/Mod6/translator/src/components/translate.js"],"names":["React","useEffect","useState","axios","doTranslation","input","languageCode","cancelToken","post","q","target","token","data","translations","translatedText","language","text","translated","setTranslated","CancelToken","source","then","cancel","err"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,aAAa;AAAA,sEAAG,iBAAOC,KAAP,EAAcC,YAAd,EAA4BC,WAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAESJ,KAAK,CAACK,IAAN,CACnB,sGADmB,EAEnB;AACIC,YAAAA,CAAC,EAAEJ,KADP;AAEIK,YAAAA,MAAM,EAAEJ;AAFZ,WAFmB,EAMnB;AAAEC,YAAAA,WAAW,EAAEA,WAAW,CAACI;AAA3B,WANmB,CAFT;;AAAA;AAAA;AAENC,UAAAA,IAFM,qBAENA,IAFM;AAAA,2CAWPA,IAAI,CAACA,IAAL,CAAUC,YAAV,CAAuB,CAAvB,EAA0BC,cAXnB;;AAAA;AAAA;AAAA;AAAA,2CAaP,EAbO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbV,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAiBA,gBAAe,CAAC;AAAEW,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAAwB;AAAA,oBACCd,QAAQ,CAAC,EAAD,CADT;AAAA;AAAA,QAC5Be,UAD4B;AAAA,QAChBC,aADgB;;AAGnCjB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACe,IAAL,EAAW;AACP;AACH;;AAED,UAAMT,WAAW,GAAGJ,KAAK,CAACgB,WAAN,CAAkBC,MAAlB,EAApB;AAEAhB,IAAAA,aAAa,CAACY,IAAD,EAAOD,QAAP,EAAiBR,WAAjB,CAAb,CAA2Cc,IAA3C,CAAgDH,aAAhD;AAEA,WAAO,MAAM;AACT,UAAI;AACAX,QAAAA,WAAW,CAACe,MAAZ;AACH,OAFD,CAEE,OAAOC,GAAP,EAAY,CAAG;AACpB,KAJD;AAKH,GAdQ,EAcN,CAACP,IAAD,EAAOD,QAAP,CAdM,CAAT;AAgBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,IAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBE,UAAvB,CAFJ,CADJ;AAMH,CAzBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst doTranslation = async (input, languageCode, cancelToken) => {\n    try {\n        const { data } = await axios.post(\n            \"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\",\n            {\n                q: input,\n                target: languageCode\n            },\n            { cancelToken: cancelToken.token }\n        );\n\n        return data.data.translations[0].translatedText;\n    } catch (err) {\n        return \"\";\n    }\n};\n\nexport default ({ language, text }) => {\n    const [translated, setTranslated] = useState(\"\");\n\n    useEffect(() => {\n        if (!text) {\n            return;\n        }\n\n        const cancelToken = axios.CancelToken.source();\n\n        doTranslation(text, language, cancelToken).then(setTranslated);\n\n        return () => {\n            try {\n                cancelToken.cancel();\n            } catch (err) { }\n        };\n    }, [text, language]);\n\n    return (\n        <div>\n            <label className=\"label\">Output</label>\n            <h1 className=\"title\">{translated}</h1>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}